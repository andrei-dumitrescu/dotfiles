#!/usr/bin/env zsh

###
# Module loading script, sourced with every terminal session.
# Use it to initialize and kickstart module's responsabilities.
###

# Config nvm
export NVM_COMPLETION=true
export NVM_DIR="$NVMM_LOCAL/nvm"

# Load nvm plugins
source "$NVMM_LOCAL/nvm/nvm.sh"
source "$NVMM_LOCAL/zsh-better-npm-completion/zsh-better-npm-completion.plugin.zsh"

fancy-log info -v version "$(node --version)" "Current Node.js"

# Expose functions
source "$NVMM_CONFIG/aliases"
source "$NVMM_FUNCTIONS/nvm-lts"
source "$NVMM_FUNCTIONS/switch-node"

# Auto switch node version when changing directories
add-zsh-hook chpwd switch_node
