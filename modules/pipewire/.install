#!/usr/bin/env sh

# ╭──────────────────────
# │ Packages are listed in .packages files in the module root. It is a comma
# │ separated list of packages, for example:
# │
# │  i3,      pacman, "Window manager"
# │  polybar, pacman, "Status bar"
# │  ─┬─      ─┬─     ─┬─
# │   │        │       ╰─ Description of the package
# │   │        ╰─ Package manager
# │   ╰─ Package name
# ╰─────

pacman_package_names=$(grep -v "^#" < "$PIPEWIRE_HOME/.packages" \
  | grep "pacman" \
  | cut -d, -f1 \
  | tr '\n' ' ')

fancy-log info -v packages "$pacman_package_names" \
  "Module pacman dependencies"

# ╭───┤ Symlink application config
# ╰─

# PIPEWIRE_CONFIG="$PIPEWIRE_HOME/config"

# echo "" | while IFS="" read -r dir; do
#   user_config_path="$HOME/.config/$dir"
#   if [ ! -d "$user_config_path" ]; then
#     fancy-log warn -v cmd "$dir" "Config not found, symlinking ..."

#     rm -f "$user_config_path"
#     ln -s "$PIPEWIRE_CONFIG/$dir" "$user_config_path"
#   fi
# done
