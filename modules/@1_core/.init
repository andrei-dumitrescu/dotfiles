#!/usr/bin/env sh

# ╭──────────────────────
# │ Entry point for the Core shell module.
# ╰────────

CORE_HOME="$(dirname "$0")"

LOG_NAMESPACE=" @core"
LOG_LEVEL=info

# ╭───┤ Load Xresources (colors, fonts) and make available in shell
# ╰─

if [ -n "$DISPLAY" ]; then 
  xrdb -merge ~/.Xresources
fi

# ╭───┤ Expose scripts 
# ╰─

scripts_home="$CORE_HOME/scripts"
export PATH="$scripts_home:$PATH"
export PATH="$scripts_home/datetime:$PATH"
export PATH="$scripts_home/sounds:$PATH"
export PATH="$scripts_home/sys:$PATH"
export PATH="$scripts_home/tui:$PATH"

fancy-log info -v path "$scripts_home" "Scripts exposed in \$PATH"

# ╭───┤ Source functions
# ╰─

# Other script might want to source
export CORE_FUNCTIONS="$CORE_HOME/functions"

fancy-log info -v path "$CORE_FUNCTIONS" "Functions sourced"

