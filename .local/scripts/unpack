#!/usr/bin/sh -e

. "$LIBRARY_HOME/die.sh"

FILE=$1
FOLDER="unpacked-$FILE"        

mkdir -p "$FOLDER"

case "$FILE" in
  *.rar)
    unrar e "$FILE" "$FOLDER"
  ;;

  *.zip)
    unzip "$FILE" -d "$FOLDER"
  ;;

  *.tgz|*.tar.gz)
    tar -xzf "$FILE" -C "$FOLDER"
  ;;

  *.gz)
    gunzip "$FILE"
  ;;

  *.tar.xz)
    tar -xf "$FILE" -c "$FOLDER"
  ;;

  *)
    die "Unknown archive format $FILE"
  ;;
esac
