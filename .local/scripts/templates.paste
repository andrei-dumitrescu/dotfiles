#!/bin/sh

##
## Execute file or copy it's content to current active window
##

snippetsPath="$HOME/.local/snippets"

# Piped value or first param
[ -z "$1" ] && read -p "name: " -r name || name="$1"

path="$snippetsPath/$name"


if [ -f "$path" ]; then
  if [ -x "$path" ]; then
    dataToPaste=$($path "$2")
  else
    dataToPaste=$(head --bytes=-1 "$path")
  fi

  # put data in both main and middle mouse buffer 
  printf "%s" "$dataToPaste" | wl-copy 
fi
